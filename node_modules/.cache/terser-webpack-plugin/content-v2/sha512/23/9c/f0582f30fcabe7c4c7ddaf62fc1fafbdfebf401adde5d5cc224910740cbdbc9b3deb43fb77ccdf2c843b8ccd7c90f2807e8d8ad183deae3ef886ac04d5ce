{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-c0f2b40a\"],{\"159b\":function(e,t,n){var o=n(\"da84\"),a=n(\"fdbc\"),i=n(\"17c2\"),r=n(\"9112\");for(var l in a){var s=o[l],c=s&&s.prototype;if(c&&c.forEach!==i)try{r(c,\"forEach\",i)}catch(u){c.forEach=i}}},\"17c2\":function(e,t,n){\"use strict\";var o=n(\"b727\").forEach,a=n(\"a640\"),i=n(\"ae40\"),r=a(\"forEach\"),l=i(\"forEach\");e.exports=r&&l?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,n){\"use strict\";var o=n(\"23e7\"),a=n(\"17c2\");o({target:\"Array\",proto:!0,forced:[].forEach!=a},{forEach:a})},4795:function(e,t,n){var o=n(\"23e7\"),a=n(\"da84\"),i=n(\"342f\"),r=[].slice,l=/MSIE .\\./.test(i),s=function(e){return function(t,n){var o=arguments.length>2,a=o?r.call(arguments,2):void 0;return e(o?function(){(\"function\"==typeof t?t:Function(t)).apply(this,a)}:t,n)}};o({global:!0,bind:!0,forced:l},{setTimeout:s(a.setTimeout),setInterval:s(a.setInterval)})},7169:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var o=n(\"d4ec\"),a=n(\"bee2\"),i=n(\"dc59\"),r=i[\"a\"].database().ref(\"/Uploads\"),l=function(){function e(){Object(o[\"a\"])(this,e)}return Object(a[\"a\"])(e,[{key:\"getAll\",value:function(){return r}},{key:\"putST\",value:function(e,t){return i[\"b\"].ref(e).put(t)}},{key:\"create\",value:function(e){return r.push(e)}},{key:\"update\",value:function(e,t){return r.child(e).update(t)}},{key:\"delete\",value:function(e){return r.child(e).remove()}},{key:\"deleteAll\",value:function(){return r.remove()}}]),e}(),s=new l},\"7a82\":function(e,t,n){var o=n(\"23e7\"),a=n(\"83ab\"),i=n(\"9bf2\");o({target:\"Object\",stat:!0,forced:!a,sham:!a},{defineProperty:i.f})},b0c0:function(e,t,n){var o=n(\"83ab\"),a=n(\"9bf2\").f,i=Function.prototype,r=i.toString,l=/^\\s*function ([^ (]*)/,s=\"name\";o&&!(s in i)&&a(i,s,{configurable:!0,get:function(){try{return r.call(this).match(l)[1]}catch(e){return\"\"}}})},b21a:function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{},[n(\"div\",{},[n(\"div\",{staticClass:\"row\"},[e._m(0),n(\"div\",{staticClass:\"col-md-8 offset-md-1\"},[n(\"el-tabs\",{on:{\"tab-click\":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:\"activeName\"}},[n(\"el-tab-pane\",{attrs:{label:\"User\",name:\"first\"}},[e._v(\"User\")]),n(\"el-tab-pane\",{attrs:{label:\"Config\",name:\"second\"}},[e._v(\"Config\")]),n(\"el-tab-pane\",{attrs:{label:\"Role\",name:\"third\"}},[e._v(\"Role\")]),n(\"el-tab-pane\",{attrs:{label:\"Task\",name:\"fourth\"}},[e._v(\"Task\")])],1),n(\"h5\",[e._v(\"單一檔案上傳 \")]),n(\"form\",[n(\"div\",{staticClass:\"form-group\"},[n(\"input\",{staticClass:\"form-control-file\",attrs:{type:\"file\",id:\"my-file\"},on:{change:e.previewImage}}),n(\"div\",{staticClass:\"border p-2 mt-3\"},[n(\"p\",[e._v(\"圖檔預覽:\")]),e.preview?[n(\"img\",{staticClass:\"img-fluid\",attrs:{src:e.preview}}),n(\"p\",{staticClass:\"mb-0\"},[e._v(\"file name: \"+e._s(e.image.name))]),n(\"p\",{staticClass:\"mb-0\"},[e._v(\"size: \"+e._s(e.image.size/1024)+\"KB\")])]:e._e()],2)])]),n(\"div\",{staticClass:\"grid grid-cols-2 gap-1\"},[n(\"div\",[n(\"form\",{on:{submit:function(t){return t.preventDefault(),e.addTodo(t)}}},[n(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.newTodo.name,expression:\"newTodo.name\"}],staticClass:\"px-10 m-1 py-2 rounded-full bg-gray-100 \",attrs:{type:\"text\",placeholder:\"已上傳檔案名稱\"},domProps:{value:e.newTodo.name},on:{input:function(t){t.target.composing||e.$set(e.newTodo,\"name\",t.target.value)}}}),n(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.newTodo.grade,expression:\"newTodo.grade\"}],staticClass:\"bg-blue-600 m-1 p-2 text-white text-center rounded-xl\",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t=\"_value\"in e?e._value:e.value;return t}));e.$set(e.newTodo,\"grade\",t.target.multiple?n:n[0])}}},[n(\"option\",{attrs:{value:\"\",disabled:\"\"}},[e._v(\"請選擇年級\")]),e._l(e.grades,(function(t){return n(\"option\",[e._v(e._s(t))])}))],2),n(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.newTodo.topic,expression:\"newTodo.topic\"}],staticClass:\"bg-blue-600 m-1 p-2 text-white text-center rounded-xl\",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t=\"_value\"in e?e._value:e.value;return t}));e.$set(e.newTodo,\"topic\",t.target.multiple?n:n[0])}}},[n(\"option\",{attrs:{value:\"\",disabled:\"\"}},[e._v(\"請選擇主題\")]),e._l(e.topics,(function(t){return n(\"option\",[e._v(e._s(t))])}))],2),n(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.newTodo.FileType,expression:\"newTodo.FileType\"}],staticClass:\"bg-blue-600 m-1 p-2 text-white text-center rounded-xl\",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t=\"_value\"in e?e._value:e.value;return t}));e.$set(e.newTodo,\"FileType\",t.target.multiple?n:n[0])}}},[n(\"option\",{attrs:{value:\"\",disabled:\"\"}},[e._v(\"請選擇資料類別\")]),e._l(e.FileTypes,(function(t){return n(\"option\",[e._v(e._s(t))])}))],2),n(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.newTodo.UseToken,expression:\"newTodo.UseToken\"}],staticClass:\"bg-blue-600 m-1 p-2 text-white text-center rounded-xl\",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t=\"_value\"in e?e._value:e.value;return t}));e.$set(e.newTodo,\"UseToken\",t.target.multiple?n:n[0])}}},[n(\"option\",{attrs:{value:\"\",disabled:\"\"}},[e._v(\"權限設定\")]),e._l(e.UseTokens,(function(t){return n(\"option\",[e._v(e._s(t))])}))],2),n(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.newTodo.DocType,expression:\"newTodo.DocType\"}],staticClass:\"bg-blue-600 m-1 p-2 text-white text-center rounded-xl\",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t=\"_value\"in e?e._value:e.value;return t}));e.$set(e.newTodo,\"DocType\",t.target.multiple?n:n[0])}}},[n(\"option\",{attrs:{value:\"\",disabled:\"\"}},[e._v(\"文件類別\")]),e._l(e.DocTypes,(function(t){return n(\"option\",[e._v(e._s(t))])}))],2)])]),n(\"div\",[n(\"button\",{staticClass:\"text-lg text-gray-100 m-3 px-3 py-0.5 ml-4 rounded-full bg-red-400\",on:{click:function(t){return e.addTodo()}}},[e._v(\"確認新增\")]),n(\"button\",{staticClass:\"text-gray-900 text-xl font-black \\n                            m-3 px-3 py-0.5 ml-4 rounded-full \\n                            bg-green-500\\n                            hover:bg-blue-700 hover:text-gray-100  \",on:{click:function(t){return e.d()}}},[e._v(\" 刪除上傳資料 \")])])]),n(\"hr\"),e._v(\" 已上傳內容： \"),n(\"ul\",{staticClass:\"todo-list  \"},e._l(e.todos,(function(t){return n(\"li\",{staticClass:\"border-2 border-gray-200 rounded-full py-1 px-4 my-2\"},[e._v(\" 檔案名稱： \"),n(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.name,expression:\"todo.name\"}],staticClass:\"px-10 m-1 py-1 rounded-full bg-gray-100 focus:ring-2 focus:ring-blue-600 \",attrs:{type:\"text\",placeholder:\"Add new todo\"},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,\"name\",n.target.value)}}}),n(\"button\",{staticClass:\"text-ms font-blod text-gray-100 m-1 px-3 py-0.5 ml-4 rounded-full bg-red-400\",on:{click:function(n){return e.removeTodo(t.key)}}},[e._v(\"刪除\")]),n(\"button\",{staticClass:\"text-ms font-blod text-gray-100 m-1 px-3 py-0.5 ml-4 rounded-full bg-blue-400\",on:{click:function(n){return e.ReadFile(t.name)}}},[e._v(\" 前往\")]),n(\"button\",{staticClass:\"bg-green-500 text-gray-900  text-ms font-blod \\n                          m-1 px-3 py-0.5 ml-4 rounded-full \\n                          hover:bg-green-700 hover:text-gray-100  \",on:{click:function(n){return e.updateTodo(t.key,t)}}},[e._v(\"更新\")])])})),0)],1)])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"col-12 text-center\"},[n(\"h1\",{staticClass:\"mb-8\"},[e._v(\"上傳資料\")])])}],i=(n(\"4160\"),n(\"b0c0\"),n(\"159b\"),n(\"4795\"),n(\"7169\")),r=n(\"59ca\"),l=n.n(r),s={name:\"tutorials-list\",components:{},data:function(){return{activeName:\"first\",showModal:!1,todos:[],UURL:\"\",topics:[\"山林生態\",\"燒墾\",\"河流生態\",\"入倉祭\",\"收割祭\",\"播種祭\",\"祖靈祭\",\"部落社會\",\"遷徒史\",\"建築\",\"竹籐籐編\",\"樂舞\",\"播種祭\",\"照顧小米\",\"編織\",\"狩獵\"],grades:[\"1年級\",\"2年級\",\"3年級\",\"4年級\",\"5年級\",\"6年級\"],FileTypes:[\"Youtube連結\",\"聲音檔\",\"PDF文件\",\"PPT投影片\",\"其他\",\"機密文件\"],UseTokens:[\"限校內使用\",\"可開放校外\",\"正在編輯中\",\"封存停用\"],DocTypes:[\"教案\",\"影片紀錄\",\"計畫書\",\"公用空白文件\",\"教學札記\",\"校內活動\",\"校外比賽\",\"校外參訪\"],selected:\"\",newTodo:{topic:\"\",grade:\"\",FileType:\"\",UseToken:\"\",Type:\"\",DocType:\"\",name:\"\",pxNote:\"\",creatDateTime:\"\"},preview:null,image:null,preview_list:[],image_list:[],msg:\"執行中\",msg2:\"檔案路徑\"}},methods:{ReadFile:function(e){l.a.storage().ref(e).getDownloadURL().then((function(e){console.log(\".ReadFile ==\"+e),location.href=e}))},g:function(){l.a.storage().ref(this.msg2).getDownloadURL().then((function(e){console.log(\".url==\"+e);var t=e;this.UURL=t}))},d:function(){l.a.storage().ref(this.msg2)[\"delete\"]()},previewImage:function(e){var t=this,n=e.target;if(n.files){var o=new FileReader;o.onload=function(e){console.log(\".Done...00\"),t.preview=e.target.result;var o=\"\",a=l.a.storage().ref(o+n.files[0].name);console.warn(n.files[0]),a.put(n.files[0]),t.newTodo.name=o+n.files[0].name,t.msg2=o+n.files[0].name,console.log(\".msg2...\"+t.msg2),t.setTimeoutFun()},this.image=n.files[0],o.readAsDataURL(n.files[0]),console.log(\".Done...2\")}},setTimeoutFun:function(){var e=this;this.timeOutProcessId=setTimeout((function(){e.g()}),3e3)},previewMultiImage:function(e){var t=this,n=e.target,o=n.files.length,a=0;if(n.files)while(o--){var i=new FileReader;i.onload=function(e){t.preview_list.push(e.target.result)},this.image_list.push(n.files[a]),i.readAsDataURL(n.files[a]),a++}},reset:function(){this.image=null,this.preview=null,this.image_list=[],this.preview_list=[]},uploadFile:function(){console.log(\".put() 方法把東西丟到該位置裡\"+this.image.name);var e=\"/demo/\"+this.image.name;i[\"a\"].putST(e,this.image.name),console.log(\".put() 方法把東西丟到該位置裡....\"+e)},addTodo:function(){i[\"a\"].create(this.newTodo),Swal.fire({position:\"top\",icon:\"success\",title:\"更新成功\",showConfirmButton:!1,timer:1500})},updateTodo:function(e,t){i[\"a\"].getAll().child(e).update(t),Swal.fire({position:\"top\",icon:\"success\",title:\"更新成功\",showConfirmButton:!1,timer:1500})},removeTodo:function(e){Swal.fire({title:\"真的嗎?\",text:\"請確認是否移除資料!\",icon:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"執行刪除!\",cancelButtonText:\"取消\"}).then((function(t){t.isConfirmed&&(Swal.fire(\"刪除成功!\",\"你的資料，已完成刪除.\",\"success\"),i[\"a\"].getAll().child(e).remove())}))},onDataChange:function(e){var t=[];e.forEach((function(e){var n=e.key,o=e.val();t.push({key:n,name:o.name,pxNote:o.pxNote,topic:o.topic,grade:o.grade,DocType:o.DocType})})),this.todos=t}},watch:{},mounted:function(){i[\"a\"].getAll().on(\"value\",this.onDataChange)},beforeDestroy:function(){i[\"a\"].getAll().off(\"value\",this.onDataChange)}},c=s,u=n(\"2877\"),d=Object(u[\"a\"])(c,o,a,!1,null,\"12ad87cf\",null);t[\"default\"]=d.exports},bee2:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));n(\"7a82\");function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}},d4ec:function(e,t,n){\"use strict\";function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.d(t,\"a\",(function(){return o}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);","extractedComments":[]}